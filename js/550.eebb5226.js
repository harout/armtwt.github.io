"use strict";(globalThis["webpackChunktwitter_stats_display"]=globalThis["webpackChunktwitter_stats_display"]||[]).push([[550],{2550:(e,t,a)=>{a.r(t),a.d(t,{default:()=>J});var o=a(9835),s=a(6970);const r={class:"col-xs-12 col-sm-12 col-md-12"},l={class:"row q-mt-md text-h5"},n={class:"row q-mt-md q-gutter-sm"},i={class:"row q-col-gutter-md q-mt-md q-mr-md q-ml-md"},d={class:"col-xs-12 col-sm-12 col-md-12 col-lg-12"},u={class:"row q-col-gutter-md q-mt-md q-mr-md q-ml-md"},m={class:"col-xs-12 col-sm-12 col-md-12 col-lg-12"};function g(e,t,a,g,f,c){const p=(0,o.up)("q-btn"),w=(0,o.up)("ReportPeriodSelector"),D=(0,o.up)("DiffOfAggregateStatsByTag"),b=(0,o.up)("DiffOfWordUsageByTag"),v=(0,o.up)("q-page");return(0,o.wg)(),(0,o.j4)(v,{class:"row q-pl-md q-pr-md q-pb-lg"},{default:(0,o.w5)((()=>[(0,o._)("div",r,[(0,o._)("div",l," Twitter Statistics for "+(0,s.zw)(g.dateRange.from)+" to "+(0,s.zw)(g.dateRange.to)+" vs. "+(0,s.zw)(g.dateRange.previousFrom)+" to "+(0,s.zw)(g.dateRange.previousTo),1),(0,o._)("div",n,[(0,o.Wm)(p,{type:"a",href:"./#/",label:"< Main Report",push:""}),(0,o.Wm)(w,{from:g.dateRange.from,to:g.dateRange.to,onReportRequested:g.handleReportRequested},null,8,["from","to","onReportRequested"])]),(0,o._)("div",i,[(0,o._)("div",d,[(0,o.Wm)(D,{series:g.diffOfAggregateStatsByTag},null,8,["series"])])]),(0,o._)("div",u,[(0,o._)("div",m,[(0,o.Wm)(b,{series:g.diffOfWordUsageByTag},null,8,["series"])])])])])),_:1})}a(9665);var f=a(499),c=a(4170),p=a(3703),w=a(1446),D=a(1168);const b={class:""};function v(e,t,a,r,l,n){const i=(0,o.up)("q-td"),d=(0,o.up)("q-table");return(0,o.wg)(),(0,o.iD)("div",b,[(0,o.Wm)(d,{title:"Percentage Increase/Decrese for Aggregate Stats Over Period by Tag",rows:a.series,columns:r.columns,pagination:r.pagination,"row-key":"tag",dense:"","binary-state-sort":""},{"body-cell":(0,o.w5)((e=>[(0,o.Wm)(i,{props:e},{default:(0,o.w5)((()=>[(0,o._)("span",{class:(0,s.C_)(e.value<=0?"negativePercentage":"positivePercentage")},(0,s.zw)(e.value)+"%",3)])),_:2},1032,["props"])])),"body-cell-tag":(0,o.w5)((e=>[(0,o.Wm)(i,{props:e},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.value),1)])),_:2},1032,["props"])])),_:1},8,["rows","columns","pagination"])])}const Y={props:{series:{required:!0,type:Object}},setup(e){const t={rowsPerPage:100,sortBy:"interactionsDiff",descending:!0},a=[{name:"tag",label:"Tag",field:"tag",sortable:!0,align:"left"},{name:"interactionsDiff",label:"Interactions",field:"interactionsDiff",sortable:!0,align:"right"},{name:"uniqueCommentorsDiff",label:"Unique Repliers",field:"uniqueCommentorsDiff",sortable:!0,align:"right"},{name:"tweetsDiff",label:"Tweets",field:"tweetsDiff",sortable:!0,sort:(e,t,a,o)=>parseInt(e,10)-parseInt(t,10),align:"right"},{name:"likesDiff",label:"Likes",field:"likesDiff",sortable:!0,align:"right"},{name:"quotesDiff",label:"Quote Tweets",field:"quotesDiff",sortable:!0,align:"right"},{name:"retweetsDiff",label:"Retweets",field:"retweetsDiff",sortable:!0,align:"right"},{name:"repliesDiff",label:"Replies",field:"repliesDiff",sortable:!0,align:"right"}];return{columns:a,pagination:t}}};var q=a(1639),_=a(4356),y=a(7220),T=a(9984),M=a.n(T);const Z=(0,q.Z)(Y,[["render",v]]),W=Z;M()(Y,"components",{QTable:_.Z,QTd:y.Z});const h={class:""},S={class:"q-pa-xs col-xs-12 col-sm-6 col-md-4"},P=(0,o._)("div",{class:"text-subtitle1"},"Added",-1),R=(0,o._)("div",{class:"text-subtitle1"},"Retained",-1),k=(0,o._)("div",{class:"text-subtitle1"},"Dropped",-1);function x(e,t,a,r,l,n){const i=(0,o.up)("q-card-section"),d=(0,o.up)("q-separator"),u=(0,o.up)("q-item"),m=(0,o.up)("q-list"),g=(0,o.up)("q-card"),f=(0,o.up)("q-item-section"),c=(0,o.up)("q-td"),p=(0,o.up)("q-table");return(0,o.wg)(),(0,o.iD)("div",h,[(0,o.Wm)(p,{grid:"",title:"Word Usage Changes for Period by Tag",rows:a.series,columns:r.columns,pagination:r.pagination,"row-key":"tag",dense:""},{item:(0,o.w5)((e=>[(0,o._)("div",S,[(0,o.Wm)(g,null,{default:(0,o.w5)((()=>[(0,o.Wm)(i,null,{default:(0,o.w5)((()=>[(0,o._)("strong",null,(0,s.zw)(e.row.tag),1)])),_:2},1024),(0,o.Wm)(d),(0,o.Wm)(i,null,{default:(0,o.w5)((()=>[P,(0,o.Wm)(m,{dense:""},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.row.added,(e=>((0,o.wg)(),(0,o.j4)(u,{key:e},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e),1)])),_:2},1024)))),128))])),_:2},1024)])),_:2},1024),(0,o.Wm)(d),(0,o.Wm)(i,null,{default:(0,o.w5)((()=>[R,(0,o.Wm)(m,{dense:""},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.row.retained,(e=>((0,o.wg)(),(0,o.j4)(u,{key:e},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e),1)])),_:2},1024)))),128))])),_:2},1024)])),_:2},1024),(0,o.Wm)(d),(0,o.Wm)(i,null,{default:(0,o.w5)((()=>[k,(0,o.Wm)(m,{dense:""},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.row.dropped,(e=>((0,o.wg)(),(0,o.j4)(u,{key:e},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e),1)])),_:2},1024)))),128))])),_:2},1024)])),_:2},1024)])),_:2},1024)])])),"body-cell":(0,o.w5)((e=>[(0,o.Wm)(c,{props:e},{default:(0,o.w5)((()=>[(0,o.Wm)(m,{dense:"",bordered:"",padding:"",class:"rounded-borders"},{default:(0,o.w5)((()=>[(0,o.Wm)(u,null,{default:(0,o.w5)((()=>[(0,o.Wm)(f,null,{default:(0,o.w5)((()=>[(0,o.Uk)("??"+(0,s.zw)(e.value)+"??",1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1032,["props"])])),_:1},8,["rows","columns","pagination"])])}const C={props:{series:{required:!0,type:Object}},setup(e){const t={rowsPerPage:100,sortBy:"tag",descending:!0},a=[{name:"tag",label:"Tag",field:"tag",sortable:!0,align:"left"},{name:"added",label:"Added",field:"added"},{name:"retained",label:"Retained",field:"retained"},{name:"dropped",label:"Dropped",field:"dropped"}];return{columns:a,pagination:t}}};var B=a(4458),Q=a(3190),O=a(926),U=a(3246),z=a(490),A=a(1233);const I=(0,q.Z)(C,[["render",x]]),F=I;M()(C,"components",{QTable:_.Z,QCard:B.Z,QCardSection:Q.Z,QSeparator:O.Z,QList:U.Z,QItem:z.Z,QTd:y.Z,QItemSection:A.Z});var H=a(289);const{subtractFromDate:j,formatDate:K}=c.ZP,N={components:{ReportPeriodSelector:D.Z,DiffOfAggregateStatsByTag:W,DiffOfWordUsageByTag:F},setup(){const e=new H.Z,t=(0,f.iH)([]),a=(0,f.iH)([]),o=(0,f.iH)([]),s=Date.now(),r=j(s,{days:7});var l=K(s,"MMM DD, YYYY"),n=K(r,"MMM DD, YYYY");const i=(0,f.iH)({from:n,to:l,previousFrom:"???",previousTo:"???"}),d=p.Z.getItem("dateSelection"),u=p.Z.getItem("password");null!=d&&d["saved"]>=s-864e5&&(n=K(d["from"],"MMM DD, YYYY"),l=K(d["to"],"MMM DD, YYYY"),i.value={from:n,to:l});const m=t=>{c.ZP.extractDate(i.value.from,"MMM DD, YYYY").getTime(),c.ZP.extractDate(i.value.to,"MMM DD, YYYY").getTime();q();e.getTags()},g=e=>{i.value.from=K(e.from,"MMM DD, YYYY"),i.value.to=K(e.to,"MMM DD, YYYY");const t=c.ZP.extractDate(e.from,"YYYY/MM/DD"),a=c.ZP.extractDate(e.to,"YYYY/MM/DD"),o=Date.now(),s={from:t.getTime(),to:a.getTime(),saved:o};p.Z.set("dateSelection",s),q()},D=(e,t)=>{const a=1e-6,o=100*Number(e-t),s=Number(t)+a;return s<1?"N/A":Math.round(o/s)},b=(e,t)=>{const a=[];return t.forEach((t=>{const o=t.tag,s=e.find((e=>e.tag===o));if(null==s)console.log(o+" is a new tag");else{const e=D(t.interactionsSum,s.interactionsSum),r=D(t.numTweets,s.numTweets),l=D(t.likesSum,s.likesSum),n=D(t.quoteSum,s.quoteSum),i=D(t.retweetSum,s.retweetSum),d=D(t.replySum,s.replySum),u=D(t.uniqueCommentorsSum,s.uniqueCommentorsSum),m={tag:o,interactionsDiff:e,tweetsDiff:r,likesDiff:l,quotesDiff:n,retweetsDiff:i,repliesDiff:d,uniqueCommentorsDiff:u};a.push(m)}})),a},v=(e,t)=>{const a=[];for(const o in t){if(!(o in e)){console.log(o+"is new.");continue}const s=t[o].map((e=>e[0])),r=e[o].map((e=>e[0])),l=s.slice(0,10),n=r.slice(0,10),i=Y(n,l);i["tag"]=o,a.push(i)}return a},Y=(e,t)=>{const a=new Set(e),o=new Set(t),s=new Set([...a].filter((e=>!o.has(e)))),r=new Set([...o].filter((e=>!a.has(e)))),l=new Set([...o].filter((e=>a.has(e))));return{added:Array.from(r),retained:Array.from(l),dropped:Array.from(s)}},q=()=>{const s=i.value,r="MMM DD, YYYY",l=c.ZP.extractDate(s.from,r).getTime()/1e3,n=c.ZP.addToDate(c.ZP.extractDate(s.to,r),{days:1}).getTime()/1e3,d=n-l,u=l-1,m=u-d;s["previousFrom"]=K(1e3*m,r),s["previousTo"]=K(1e3*u,r);const g=e.getDataForPeriod([],l,n),f=e.getDataForPeriod([],m,u);a.value=b(f["engagementDataByTagForPeriod"],g["engagementDataByTagForPeriod"]),t.value=e.getUsers(),console.log(g["weightedWordCount"]),o.value=v(f["weightedWordCount"],g["weightedWordCount"])};if(null==u){const t=(0,w.Z)();t.dialog({title:"Prompt",message:"Password?",prompt:{model:"",type:"password"},cancel:!0,persistent:!0}).onOk((t=>{e.loadDatabase(t).then((e=>{e?(p.Z.set("password",t),m()):p.Z.remove("password")}))}))}else{const t=p.Z.getItem("password");e.loadDatabase(t).then((e=>{e?m():p.Z.remove("password")}))}return{dateRange:i,users:t,diffOfAggregateStatsByTag:a,diffOfWordUsageByTag:o,handleReportRequested:g}}};var L=a(9885),E=a(4455);const G=(0,q.Z)(N,[["render",g]]),J=G;M()(N,"components",{QPage:L.Z,QBtn:E.Z})}}]);