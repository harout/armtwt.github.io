"use strict";(globalThis["webpackChunktwitter_stats_display"]=globalThis["webpackChunktwitter_stats_display"]||[]).push([[671],{1671:(e,t,a)=>{a.r(t),a.d(t,{default:()=>x});var s=a(9835),o=a(6970);const r={class:"col-xs-12 col-sm-12 col-md-12"},n={class:"row q-mt-md text-h5"},i={class:"row q-mt-md q-gutter-sm"},l={class:"row q-col-gutter-md q-mt-md q-mr-md q-ml-md"},m={class:"col-xs-12 col-sm-12 col-md-12 col-lg-12"};function f(e,t,a,f,u,g){const d=(0,s.up)("q-btn"),c=(0,s.up)("ReportPeriodSelector"),D=(0,s.up)("DiffOfAggregateStatsByTag"),p=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(p,{class:"row q-pl-md q-pr-md q-pb-lg"},{default:(0,s.w5)((()=>[(0,s._)("div",r,[(0,s._)("div",n," Twitter Statistics for "+(0,o.zw)(f.dateRange.from)+" to "+(0,o.zw)(f.dateRange.to)+" vs. "+(0,o.zw)(f.dateRange.previousFrom)+" to "+(0,o.zw)(f.dateRange.previousTo),1),(0,s._)("div",i,[(0,s.Wm)(d,{type:"a",href:"./#/",label:"< Main Report",push:""}),(0,s.Wm)(c,{from:f.dateRange.from,to:f.dateRange.to,onReportRequested:f.handleReportRequested},null,8,["from","to","onReportRequested"])]),(0,s._)("div",l,[(0,s._)("div",m,[(0,s.Wm)(D,{series:f.diffOfAggregateStatsByTag},null,8,["series"])])])])])),_:1})}a(9665);var u=a(499),g=a(4170),d=a(3703),c=a(1446),D=a(1168);const p={class:""};function Y(e,t,a,o,r,n){const i=(0,s.up)("q-table");return(0,s.wg)(),(0,s.iD)("div",p,[(0,s.Wm)(i,{title:"Percentage Increase/Decrese for Aggregate Stats Over Period by Tag",rows:a.series,columns:o.columns,pagination:o.pagination,"row-key":"tag",dense:"","binary-state-sort":""},null,8,["rows","columns","pagination"])])}const w={props:{series:{required:!0,type:Object}},setup(e){const t={rowsPerPage:100,sortBy:"interactionsDiff",descending:!0},a=[{name:"tag",label:"Tag",field:"tag",sortable:!0,align:"left"},{name:"interactionsDiff",label:"Interactions",field:"interactionsDiff",sortable:!0,align:"left"},{name:"uniqueCommentorsDiff",label:"Unique Repliers",field:"uniqueCommentorsDiff",sortable:!0,align:"left"},{name:"tweetsDiff",label:"Num. Tweets",field:"tweetsDiff",sortable:!0,sort:(e,t,a,s)=>parseInt(e,10)-parseInt(t,10),align:"left"},{name:"likesDiff",label:"Num. Likes",field:"likesDiff",sortable:!0,align:"left"},{name:"quotesDiff",label:"Num. Quote Tweets",field:"quotesDiff",sortable:!0,align:"left"},{name:"retweetsDiff",label:"Num. Retweets",field:"retweetsDiff",sortable:!0,align:"left"},{name:"repliesDiff",label:"Num. Replies",field:"repliesDiff",sortable:!0,align:"left"}];return{columns:a,pagination:t}}};var b=a(1639),M=a(4356),v=a(9984),q=a.n(v);const T=(0,b.Z)(w,[["render",Y]]),Z=T;q()(w,"components",{QTable:M.Z});var S=a(289);const{subtractFromDate:P,formatDate:R}=g.ZP,y={components:{ReportPeriodSelector:D.Z,DiffOfAggregateStatsByTag:Z},setup(){const e=new S.Z,t=(0,u.iH)([]),a=(0,u.iH)([]),s=Date.now(),o=P(s,{days:7});var r=R(s,"MMM DD, YYYY"),n=R(o,"MMM DD, YYYY");const i=(0,u.iH)({from:n,to:r,previousFrom:"???",previousTo:"???"}),l=d.Z.getItem("dateSelection"),m=d.Z.getItem("password");null!=l&&l["saved"]>=s-864e5&&(n=R(l["from"],"MMM DD, YYYY"),r=R(l["to"],"MMM DD, YYYY"),i.value={from:n,to:r});const f=t=>{g.ZP.extractDate(i.value.from,"MMM DD, YYYY").getTime(),g.ZP.extractDate(i.value.to,"MMM DD, YYYY").getTime();w();e.getTags()},D=e=>{i.value.from=R(e.from,"MMM DD, YYYY"),i.value.to=R(e.to,"MMM DD, YYYY");const t=g.ZP.extractDate(e.from,"YYYY/MM/DD"),a=g.ZP.extractDate(e.to,"YYYY/MM/DD"),s=Date.now(),o={from:t.getTime(),to:a.getTime(),saved:s};d.Z.set("dateSelection",o),w()},p=(e,t)=>{const a=1e-6,s=100*Number(e-t),o=Number(t)+a;return Math.round(s/o)},Y=(e,t)=>{const a=[];return t.forEach((t=>{const s=t.tag,o=e.find((e=>e.tag===s)),r=p(t.interactionsSum,o.interactionsSum),n=p(t.numTweets,o.numTweets),i=p(t.likesSum,o.likesSum),l=p(t.quoteSum,o.quoteSum),m=p(t.retweetSum,o.retweetSum),f=p(t.replySum,o.replySum),u=p(t.uniqueCommentorsSum,o.uniqueCommentorsSum),g={tag:s,interactionsDiff:r,tweetsDiff:n,likesDiff:i,quotesDiff:l,retweetsDiff:m,repliesDiff:f,uniqueCommentorsDiff:u};a.push(g)})),a},w=()=>{const s=i.value,o="MMM DD, YYYY",r=g.ZP.extractDate(s.from,o).getTime()/1e3,n=g.ZP.addToDate(g.ZP.extractDate(s.to,o),{days:1}).getTime()/1e3,l=n-r,m=r-1,f=m-l;s["previousFrom"]=R(1e3*f,o),s["previousTo"]=R(1e3*m,o);const u=e.getDataForPeriod([],r,n),d=e.getDataForPeriod([],f,m);a.value=Y(d["engagementDataByTagForPeriod"],u["engagementDataByTagForPeriod"]),t.value=e.getUsers()};if(null==m){const t=(0,c.Z)();t.dialog({title:"Prompt",message:"Password?",prompt:{model:"",type:"password"},cancel:!0,persistent:!0}).onOk((t=>{e.loadDatabase(t).then((e=>{e?(d.Z.set("password",t),f()):d.Z.remove("password")}))}))}else{const t=d.Z.getItem("password");e.loadDatabase(t).then((e=>{e?f():d.Z.remove("password")}))}return{dateRange:i,users:t,diffOfAggregateStatsByTag:a,handleReportRequested:D}}};var h=a(9885),k=a(4455);const _=(0,b.Z)(y,[["render",f]]),x=_;q()(y,"components",{QPage:h.Z,QBtn:k.Z})}}]);