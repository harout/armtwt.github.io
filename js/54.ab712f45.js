"use strict";(globalThis["webpackChunktwitter_stats_display"]=globalThis["webpackChunktwitter_stats_display"]||[]).push([[54],{8054:(e,s,a)=>{a.r(s),a.d(s,{default:()=>C});var t=a(9835);const r={class:"col-xs-12 col-sm-12 col-md-12"},l=(0,t._)("div",{class:"row q-mt-md text-h5"},"Individuals",-1),n={class:"row q-mt-md q-gutter-sm"},o={class:"row q-col-gutter-md q-mt-md q-mr-md q-ml-md"},i={class:"col-xs-12 col-sm-12 col-md-12 col-lg-12"};function m(e,s,a,m,u,d){const p=(0,t.up)("NavBar"),w=(0,t.up)("TagSelector"),c=(0,t.up)("UserViewRankings"),g=(0,t.up)("q-page");return(0,t.wg)(),(0,t.j4)(g,{class:"row q-pl-md q-pr-md q-pb-lg"},{default:(0,t.w5)((()=>[(0,t._)("div",r,[l,(0,t.Wm)(p,{handleReportRequested:m.handleReportRequested},null,8,["handleReportRequested"]),(0,t._)("div",n,[(0,t.Wm)(w,{tags:m.tags,onSelectedTagsChanged:m.handleSelectedTagsChanged},null,8,["tags","onSelectedTagsChanged"])]),(0,t._)("div",o,[(0,t._)("div",i,[(0,t.Wm)(c,{users:m.users},null,8,["users"])])])])])),_:1})}var u=a(499),d=a(289),p=a(2922),w=a(6970);const c={class:""},g=["src"],v=["href"];function b(e,s,a,r,l,n){const o=(0,t.up)("q-td"),i=(0,t.up)("q-table");return(0,t.wg)(),(0,t.iD)("div",c,[(0,t.Wm)(i,{title:"Individuals",rows:r.rows,columns:r.columns,pagination:r.pagination,"row-key":"username",dense:"","binary-state-sort":""},{"body-cell-icon":(0,t.w5)((e=>[(0,t.Wm)(o,{props:e},{default:(0,t.w5)((()=>[(0,t._)("div",null,[(0,t._)("img",{src:"./profile_images/"+e.row.username+".image",width:"50"},null,8,g)])])),_:2},1032,["props"])])),"body-cell-name":(0,t.w5)((e=>[(0,t.Wm)(o,{props:e,style:{width:"100px",whiteSpace:"pre-wrap"}},{default:(0,t.w5)((()=>[(0,t._)("div",null,[(0,t._)("a",{href:"./#/user-details/"+e.row.username},(0,w.zw)(e.row.name),9,v)])])),_:2},1032,["props"])])),"body-cell-viewsGraphic":(0,t.w5)((e=>[(0,t.Wm)(o,{props:e},{default:(0,t.w5)((()=>[(0,t._)("div",{class:"bg-primary",style:(0,w.j5)({paddingTop:"3px",width:e.row.viewsPixelWidth+"px"})},null,4)])),_:2},1032,["props"])])),"body-cell-tags":(0,t.w5)((e=>[(0,t.Wm)(o,{props:e,style:{width:"100px",whiteSpace:"pre-wrap"}},{default:(0,t.w5)((()=>[(0,t.Uk)((0,w.zw)(e.row.tags.join(", ")),1)])),_:2},1032,["props"])])),_:1},8,["rows","columns","pagination"])])}a(9665);const f={props:{users:{required:!0,type:Object}},setup(e){const s={rowsPerPage:100,sortBy:"views",descending:!0},a=new Intl.NumberFormat,r=[{name:"icon",label:"Icon",sortable:!1},{name:"name",label:"Name",field:"name",sortable:!0,align:"left"},{name:"tweetCount",label:"Number of Tweets",field:"tweetsSum",sortable:!0,sort:(e,s,a,t)=>Number(e)-Number(s),format:(e,s)=>a.format(e)},{name:"viewsRank",label:"Views Rank",field:"viewsRank",sortable:!0,sort:(e,s,a,t)=>Number(e)-Number(s),format:(e,s)=>a.format(e)},{name:"viewsRankDelta",label:"Rank Change",field:"viewsRankDelta",sortable:!0,sort:(e,s,a,t)=>Number(e)-Number(s),format:(e,s)=>e>0?e+"⬆":e<0?e+"⬇":e,style:e=>e.viewsRankDelta>=0?"color: green;":"color: red;"},{name:"views",label:"Number of Views",field:"viewsSum",sortable:!0,sort:(e,s,a,t)=>Number(e)-Number(s),format:(e,s)=>a.format(e)},{name:"viewsGraphic",label:"Views",field:"viewsSum",sortable:!1,align:"left"},{name:"tags",label:"Tags",field:"tags",sortable:!1}],l=(0,t.Fl)((()=>{const s=[],a=Math.max(...e.users.map((e=>Number(e.viewsSum)))),t=Math.min(...e.users.map((e=>Number(e.viewsSum)))),r=250/(a-t+1);return e.users.forEach((e=>{const a={...e};a["viewsPixelWidth"]=Number(a.viewsSum)*r,s.push(a)})),s}));return{columns:r,rows:l,pagination:s}}};var h=a(1639),R=a(4356),S=a(7220),_=a(9984),T=a.n(_);const q=(0,h.Z)(f,[["render",b]]),k=q;T()(f,"components",{QTable:R.Z,QTd:S.Z});var N=a(5958),y=a(3622);const x={components:{TagSelector:p.Z,UserViewRankings:k,NavBar:N.Z},setup(){const e=new d.Z,s=(0,u.iH)([]),a=(0,u.iH)([]);var t=(0,u.iH)([]);const r=(r,l)=>{var n=[];const o=l-r,i=r-o,m=r-1;n=s.value.filter((e=>!t.value.includes(e))),e.prepareDataForPeriod(n,i,l),s.value=e.getTags();const u=e.getUserStatsForPeriod(r,l),d=e.getUserStatsForPeriod(i,m);u.sort(((e,s)=>s.viewsSum-e.viewsSum)),d.sort(((e,s)=>s.viewsSum-e.viewsSum));var p=u.map((e=>e.username)),w=d.map((e=>e.username));u.forEach((e=>{e.viewsRank=p.indexOf(e.username)+1;const s=w.indexOf(e.username)+1;e.viewsRankDelta=-1!=s?s-e.viewsRank:"N/A"})),a.value=u},l=e=>{t.value=e.selectedTags,r(i.value,m.value)},{dateRangeFromString:n,dateRangeToString:o,fromTimestamp:i,endTimestamp:m,handleReportRequested:p}=(0,y.Z)(r,e);return{tags:s,selectedTags:t,dateRangeFromString:n,dateRangeToString:o,users:a,handleReportRequested:p,handleSelectedTagsChanged:l}}};var W=a(9885);const Z=(0,h.Z)(x,[["render",m]]),C=Z;T()(x,"components",{QPage:W.Z})}}]);